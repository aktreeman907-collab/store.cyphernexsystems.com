<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Craft Cache Store</title>
  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React 18 + Babel (so we can paste JSX in one file) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* helpful utility when Tailwind line-clamp isn't available via CDN */
    .line-clamp-2 {
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
    }
  </style>
</head>
<body class="bg-white text-gray-900">
  <div id="root"></div>
  <div style="max-width: 600px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif; color: #222;">
    
    <!-- HEADER -->
    <h2 style="text-align: center; font-size: 26px; font-weight: bold; margin-bottom: 10px;">
      AI SVG Generator
    </h2>
    <p style="text-align: center; font-size: 15px; color: #555; margin-bottom: 20px;">
      Upload any image → Convert to Cricut-ready SVG → Download instantly
    </p>

    <!-- UPLOAD BOX -->
    <div id="uploadArea" 
         style="border: 2px dashed #ccc; padding: 30px; text-align: center; border-radius: 12px; cursor: pointer;">
      <p style="margin:0; font-size: 16px; color: #666;">Click or Drag Image Here</p>
      <input id="uploader" type="file" accept="image/*" style="display:none;">
    </div>

    <!-- TOGGLES -->
    <div style="margin-top: 20px;">
      <label style="display:flex; align-items:center; margin-bottom:10px;">
        <input type="checkbox" id="cleanMode" checked style="margin-right: 10px;">
        Clean Line Art Mode (recommended)
      </label>
      <label style="display:flex; align-items:center;">
        <input type="checkbox" id="holidayMode" style="margin-right: 10px;">
        Holiday Style Mode (adds seasonal flair)
      </label>
    </div>

    <!-- PREVIEW -->
    <div id="previewContainer" style="margin-top: 25px; display:none;">
      <p style="font-weight: bold; margin-bottom: 10px;">Preview:</p>
      <img id="previewImage" src="" style="width:100%; border:1px solid #ccc; border-radius: 8px;">
    </div>

    <!-- PAYWALL -->
    <div id="paywall" style="margin-top: 30px; display:none; text-align:center;">
      <p style="font-size: 16px; margin-bottom: 12px;">Download Ready</p>

      <a id="paypalButton"
         href="PAYPAL_LINK_HERE"
         target="_blank"
         style="background:#0070ba; color:white; padding:12px 20px; 
                border-radius:8px; text-decoration:none; font-weight: bold;
                display:inline-block; margin-bottom:15px;">
        Pay with PayPal – $2.99
      </a>

      <button id="unlockBtn"
              style="background:#28a745; color:white; padding:12px 20px;
                     border-radius:8px; border:none; font-size:15px; cursor:pointer;">
        Unlock Download
      </button>
    </div>

    <!-- DOWNLOAD SECTION -->
    <div id="downloadSection" style="display:none; margin-top:25px; text-align:center;">
      <a id="downloadLink"
         href="#"
         download="converted.svg"
         style="background:#ff9800; color:white; padding:12px 20px;
                border-radius:8px; text-decoration:none; font-weight:bold;">
        Download SVG
      </a>
      <p style="margin-top:10px; font-size:13px; color:#666;">Thank you for supporting our shop ♥</p>
    </div>

    <!-- SCRIPT -->
    <script>
      const uploader = document.getElementById('uploader');
      const uploadArea = document.getElementById('uploadArea');
      const previewContainer = document.getElementById('previewContainer');
      const previewImage = document.getElementById('previewImage');
      const paywall = document.getElementById('paywall');
      const unlockBtn = document.getElementById('unlockBtn');
      const downloadSection = document.getElementById('downloadSection');
      const downloadLink = document.getElementById('downloadLink');

      uploadArea.onclick = () => uploader.click();

      uploader.onchange = async () => {
        const file = uploader.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = e => {
          previewImage.src = e.target.result;
          previewContainer.style.display = "block";
          paywall.style.display = "block";
        };
        reader.readAsDataURL(file);
      };

      unlockBtn.onclick = async () => {
        // This sends your image to your AI API
        const endpoint = "API_ENDPOINT_HERE";

        const file = uploader.files[0];
        const formData = new FormData();
        formData.append("image", file);
        formData.append("cleanMode", document.getElementById('cleanMode').checked);
        formData.append("holidayMode", document.getElementById('holidayMode').checked);

        const response = await fetch(endpoint, { method: "POST", body: formData });
        const svg = await response.text();

        const blob = new Blob([svg], { type: "image/svg+xml" });
        downloadLink.href = URL.createObjectURL(blob);

        downloadSection.style.display = "block";
        unlockBtn.style.display = "none";
      };
    </script>

  </div>
</body>
</html>
